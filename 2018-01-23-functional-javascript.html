<!doctype html>
<html lang="">	
<head>
	<meta charset="utf-8"/>
	<title>Functional JavaScript - Stefan Nožinić</title>	

	<meta name="author" content="Stefan Nožinić" />
	<meta name="copyright" content="Stefan Nožinić" />
	<meta property="og:site_name" content="Stefan Nožinić" />
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:title" content="Functional JavaScript" />
	<meta name="date" content="2018-01-23 17:15:00+01:00" />
	<meta property="og:type" content="article" />
	<meta property="og:locale" content="en" />
	<meta property="og:published_time" content="2018-01-23 17:15:00+01:00" />
	<meta property="og:title" content="Functional JavaScript" />
	<meta property="og:url" content="/2018-01-23-functional-javascript.html" />
	<meta property="og:description" content="In this article I will try to explain some aspects of JS which enable us to write more functional code and shorter code as well. Node You can try examples in node, just type node to open interactive mode. Function definitions Let's explain function definitions in JS: function f(x …" />
	<meta name="description" content="In this article I will try to explain some aspects of JS which enable us to write more functional code and shorter code as well. Node You can try examples in node, just type node to open interactive mode. Function definitions Let's explain function definitions in JS: function f(x …" />
	<meta name="HandheldFriendly" content="True" />
	<meta name="MobileOptimized" content="320" />
	<meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0" />
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
	<link rel="icon" href="/favicon.ico" type="image/x-icon" />
	<link href='https://fonts.googleapis.com/css?family=Droid+Sans:700,400|Droid+Sans+Mono' rel='stylesheet' type='text/css' />
	<link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
		
	<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
	
<body>		
	<header class="clearfix" role="banner">
		<div class="wrapper">
			<h1 class="huge"><a href="">Stefan Nožinić</a></h1>
		</div>
	</header>
	
<div role="main" class="content clearfix">	
	<article>
		<div class="post wrapper">
			<h1>Functional JavaScript</h1>
			<p>In this article I will try to explain some aspects of JS which enable us to write more functional code 
and shorter code as well. </p>
<h1>Node</h1>
<p>You can try examples in node, just type <code>node</code> to open interactive mode.</p>
<h1>Function definitions</h1>
<p>Let's explain function definitions in JS:</p>
<div class="highlight"><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span>x<span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>also we can assign function to variables (since functions are first-class objects) </p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">;}</span>
<span class="n">undefined</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="mi">25</span>
<span class="o">&gt;</span>
</code></pre></div>

<h1>Objects in JS</h1>
<p>Objects are basically dictionaries and are defined like JSON:</p>
<div class="highlight"><pre><span></span><code>&gt; obj = {&quot;a&quot;: 1, &quot;b&quot;: 2}
{ a: 1, b: 2 }
&gt; obj.a
1
&gt; obj[&quot;a&quot;]
1
&gt;
</code></pre></div>

<p>Functions can also be parts of objects. </p>
<h1>Lambda functions</h1>
<p>Since functions are first-class objects we can do this:</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="k">filter</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span>
<span class="p">...</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">arr</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span>
<span class="p">.....</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">))</span><span class="w"> </span><span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span>
<span class="p">.....</span><span class="w"> </span><span class="err">}</span>
<span class="p">...</span><span class="w"> </span><span class="err">}</span>
<span class="n">undefined</span>
<span class="o">&gt;</span><span class="w"> </span><span class="k">filter</span><span class="p">(</span><span class="o">[</span><span class="n">1,2,3</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">}</span><span class="p">)</span>
<span class="mi">2</span>
<span class="n">undefined</span>
<span class="o">&gt;</span>
</code></pre></div>

<p>arrays have filter function as their method:</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span>[<span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>].<span class="nv">filter</span><span class="ss">(</span><span class="nv">function</span><span class="w"> </span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span>{<span class="k">return</span><span class="w"> </span><span class="nv">x</span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>}<span class="ss">)</span>
[<span class="w"> </span><span class="mi">2</span><span class="w"> </span>]
<span class="o">&gt;</span>
</code></pre></div>

<p>Also, arrays have map method in them:</p>
<div class="highlight"><pre><span></span><code>&gt; [1,2,3].map(f)
[1,4,9]
&gt;
</code></pre></div>

<p>Also they have reduce (right) method:</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span>[<span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>].<span class="nv">reduce</span><span class="ss">(</span><span class="nv">function</span><span class="w"> </span><span class="ss">(</span><span class="nv">z</span>,<span class="nv">x</span><span class="ss">)</span><span class="w"> </span>{<span class="k">return</span><span class="w"> </span><span class="nv">z</span><span class="o">+</span><span class="nv">x</span><span class="c1">;}, 0)</span>
<span class="mi">6</span>
<span class="o">&gt;</span>
</code></pre></div>

<p>We can use arrow notation to make our code shorter, for instance:</p>
<div class="highlight"><pre><span></span><code><span class="k">&gt; </span><span class="ge">arr.reduce((z,x) =&gt; z*z+x, 0)                                                                                                         12                                                                                                                                      &gt;</span>
</code></pre></div>

<h1>this hell</h1>
<p>Now we will explain constructors which are functions that return objects. </p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="nv">function</span><span class="w"> </span><span class="nv">MyObject</span><span class="ss">()</span><span class="w"> </span>{<span class="w"> </span>
...<span class="w"> </span><span class="k">return</span><span class="w"> </span>{
.....<span class="w"> </span><span class="nv">a</span>:<span class="w"> </span><span class="mi">1</span>,
.....<span class="w"> </span><span class="nv">b</span>:<span class="w"> </span><span class="mi">2</span>
.....<span class="w"> </span>}
...<span class="w"> </span>}
<span class="nv">undefined</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">MyObject</span><span class="ss">()</span>
{<span class="w"> </span><span class="nv">a</span>:<span class="w"> </span><span class="mi">1</span>,<span class="w"> </span><span class="nv">b</span>:<span class="w"> </span><span class="mi">2</span><span class="w"> </span>}
<span class="o">&gt;</span>
</code></pre></div>

<p>In functions, one special (invisible) parameter is also passed: this. Value of this depends on how function is called.</p>
<p>If function is called like f(...) then this refers to global state (i.e state defined by browser or nodeJS environment).</p>
<p>If function is called with new construct: new f(...) then this is empty. </p>
<p>If function is called as method of some object then this refers to this object: myobj.myfunction() - this refers to myobj. </p>
<p>Since we here deal with functional approach, we will not consider "new" construct and, when calling functions as methods of some object, will ensure that our function does not modify state of "this". </p>
<h1>Spread syntax</h1>
<p>Let's suppose we have array called arr: </p>
<p>if we call function with f(...arr) all its elements will become arguments of function. This 3-dot notation basically extracts 
data from array as normal, comma-separated, values. </p>
<p>Also, with this syntax we can grab head and tail of array:</p>
<div class="highlight"><pre><span></span><code>&gt; [head, ...tail] = arr 
[ 1, 2, 3 ]
&gt; tail
[ 2, 3 ]
&gt; head
1
&gt;
</code></pre></div>

<h1>Pattern matching</h1>
<p>Pattern matching is not standardized yet but there's proposal here: https://github.com/tc39/proposal-pattern-matching</p>

			<a href="https://twitter.com/share" class="twitter-share-button" data-via="" data-lang="en" data-size="large" data-related="">Tweet</a>
			<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
		</div>
<div class="meta wrapper">
	<time datetime="2018-01-23T17:15:00+01:00" pubdate>Tue 23 January 2018</time>
	<ul class="tag clearfix">
		<li><a href="/category/misc.html">misc</a></li>
	</ul>
</div>	</article>	
</div>
	
		
<footer class="clearfix">
	<div class="wrapper pages">
		<ul class="nav">
			<li><a href="/pages/about.html">About</a></li>
			<li><a href="/archives.html">Archive</a></li>
		</ul>
	</div>
	
	<div class="copy wrapper">
		<ul class="social">
		</ul>
	
		<p role="contentinfo">		© 2017 Stefan Nožinić
<br>
		Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">Pelican</a>.</p>
	</div>
</footer>
</body>
</html>